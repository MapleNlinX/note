#Lua
### å®Œæ•´ä»£ç 
```lua
function splitToChactacter(input)
  input = tostring(input)
  local arr = {}
  local i = 1
  while i <= #input do
      local curByte = string.byte(input, i)
      local byteCount = 1
      if curByte>0 and curByte<=127 then
          byteCount = 1
      elseif curByte>=192 and curByte<223 then
          byteCount = 2
      elseif curByte>=224 and curByte<=239 then
          byteCount = 3
      elseif curByte>=240 and curByte<=247 then
          byteCount = 4
      end
      local char = string.sub(input, i, i+byteCount-1)
      i = i + byteCount
      table.insert(arr, char)
  end
  return arr
end
```

### åŸç†
#### UTF-8çš„ç¼–ç è§„åˆ™
> ğŸ“Œ**å¯¹äºå•å­—èŠ‚çš„ç¬¦å·**ï¼Œå­—èŠ‚çš„ç¬¬ä¸€ä½è®¾ä¸º0ï¼Œåé¢7ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç ã€‚å› æ­¤å¯¹äºè‹±è¯­å­—æ¯ï¼ŒUTF-8 ç¼–ç å’Œ ASCII ç æ˜¯ç›¸åŒçš„
> ğŸ“Œ**å¯¹äºnå­—èŠ‚çš„ç¬¦å·ï¼ˆn > 1ï¼‰**ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰nä½éƒ½è®¾ä¸º1ï¼Œç¬¬n + 1ä½è®¾ä¸º0ï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º10ã€‚å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç ã€‚

![](file/imge-1.png)

#### åˆ©ç”¨è§„åˆ™
> çŸ¥é“ç¼–ç è§„åˆ™åï¼Œå¯å…ˆé€šè¿‡`string.byte(input, i)` è·å–ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œåˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªå¤šå¤§å­—èŠ‚çš„å­—ç¬¦ï¼Œï¼ˆä¸­æ–‡æœ‰å¯èƒ½æ˜¯3æˆ–è€…4ï¼‰ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡`string.byte(input, i+å­—èŠ‚æ•°)` è·å–è¯¥å­—ç¬¦ï¼Œåé¢ä»¥æ­¤ç±»æ¨

### æ‹“å±•
#### åˆ†å‰²åå†ç»„åˆ
```lua
-- ä¸€èˆ¬ä¸šåŠ¡éœ€æ±‚åœ¨åˆ†å‰²åéƒ½éœ€è¦é‡æ–°ç»„åˆï¼Œæ¯”å¦‚æ¨ªå‘æ–‡å­—å˜ç«–å‘æ–‡å­—ï¼Œå¯åœ¨ä¸­é—´åŠ  \n
table.concat(splitToChactacter(str), "\n")
```
